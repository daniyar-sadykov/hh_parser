# ‚úÖ –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ó–ê–í–ï–†–®–ï–ù–´

## üéØ –ó–ê–î–ê–ß–ê

–°–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã:
- Backend –∏—Å–∫–∞–ª **–í–°–ï** –≤–∞–∫–∞–Ω—Å–∏–∏ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ 2000)
- –ù–æ –≤–æ–∑–≤—Ä–∞—â–∞–ª –≤ N8N —Ç–æ–ª—å–∫–æ **N —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö**

## ‚ú® –ß–¢–û –ò–ó–ú–ï–ù–ï–ù–û

### **1. `hh_parser.py`**

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `max_pages` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é = 100 (–≤–º–µ—Å—Ç–æ None)
- `order_by` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é = `'publication_time'` (–≤–º–µ—Å—Ç–æ `'relevance'`)
- –¢–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –∏—â–µ—Ç –º–∞–∫—Å–∏–º—É–º –≤–∞–∫–∞–Ω—Å–∏–π –∏ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –¥–∞—Ç–µ

**–°—Ç—Ä–æ–∫–∏:** 40-68

---

### **2. `api.py`**

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### **A. –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `limit`:**
```python
limit: int = Field(20, description="–°–∫–æ–ª—å–∫–æ –í–ï–†–ù–£–¢–¨ —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö")
```

#### **B. Endpoint `/api/search`:**
- –ò—â–µ—Ç –í–°–ï –≤–∞–∫–∞–Ω—Å–∏–∏
- –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –¥–∞—Ç–µ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ `limit` —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö
- –í –æ—Ç–≤–µ—Ç–µ: `total_found` (–≤—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ) –∏ `returned_count` (–≤–æ–∑–≤—Ä–∞—â–µ–Ω–æ)

#### **C. Endpoint `/api/search-quick`:**
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `limit` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20)
- –õ–æ–≥–∏–∫–∞ —Ç–∞–∫–∞—è –∂–µ: –∏—â–µ—Ç –≤—Å—ë, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç N —Å–≤–µ–∂–∏—Ö

**–°—Ç—Ä–æ–∫–∏:** 51-245

---

### **3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

**–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:**

1. **`API_–û–ë–ù–û–í–õ–ï–ù–ò–ï_LIMIT.md`**
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
   - –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

2. **`N8N_INTEGRATION_LIMIT.md`**
   - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è N8N
   - –ü—Ä–∏–º–µ—Ä—ã —É–∑–ª–æ–≤
   - –ü–æ–ª–Ω—ã–π workflow
   - –ü–æ–ª–µ–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üìä –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

```
N8N –∑–∞–ø—Ä–æ—Å:
{
  "keywords": "–æ–ø–µ—Ä–∞—Ç–æ—Ä CRM",
  "limit": 20
}
       ‚Üì
Backend –ø–∞—Ä—Å–∏—Ç:
- –ò—â–µ—Ç –í–°–ï (–¥–æ 10000 –≤–∞–∫–∞–Ω—Å–∏–π)
- –ù–∞—Ö–æ–¥–∏—Ç: 1247 –≤–∞–∫–∞–Ω—Å–∏–π
- –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –¥–∞—Ç–µ (—Å–≤–µ–∂–∏–µ –ø–µ—Ä–≤—ã–º–∏)
       ‚Üì
Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
{
  "total_found": 1247,
  "returned_count": 20,
  "vacancies": [20 —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö]
}
```

---

## üîß –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### **–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```json
POST /api/search
{
  "keywords": "–æ–ø–µ—Ä–∞—Ç–æ—Ä CRM",
  "max_results": 100
}

// –í–æ–∑–≤—Ä–∞—â–∞–ª–æ: –ø–µ—Ä–≤—ã–µ 100 –≤–∞–∫–∞–Ω—Å–∏–π (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–∞–º—ã–µ —Å–≤–µ–∂–∏–µ)
```

### **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```json
POST /api/search
{
  "keywords": "–æ–ø–µ—Ä–∞—Ç–æ—Ä CRM",
  "limit": 20
}

// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: 20 –°–ê–ú–´–• –°–í–ï–ñ–ò–• –∏–∑ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö
// total_found: 1247 (–≤—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ)
// returned_count: 20 (–≤–µ—Ä–Ω—É–ª–∏)
```

---

## ‚úÖ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### **–¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞**

```bash
curl -X POST "http://localhost:8000/api/search" \
  -H "Content-Type: application/json" \
  -d '{
    "keywords": "–æ–ø–µ—Ä–∞—Ç–æ—Ä CRM",
    "limit": 5
  }'
```

**–û–∂–∏–¥–∞–µ–º:**
- `returned_count: 5`
- 5 –≤–∞–∫–∞–Ω—Å–∏–π –≤ –º–∞—Å—Å–∏–≤–µ
- –ü–µ—Ä–≤–∞—è –≤–∞–∫–∞–Ω—Å–∏—è - —Å–∞–º–∞—è —Å–≤–µ–∂–∞—è (–¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–∑–∂–µ –≤—Å–µ—Ö)

---

### **–¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –ø–æ–∏—Å–∫–∞**

```bash
curl -X POST "http://localhost:8000/api/search" \
  -H "Content-Type: application/json" \
  -d '{
    "keywords": "–æ–ø–µ—Ä–∞—Ç–æ—Ä",
    "region": 1,
    "limit": 10
  }'
```

**–û–∂–∏–¥–∞–µ–º:**
- `total_found` > 1000 (–Ω–∞—à–ª–∏ –º–Ω–æ–≥–æ)
- `returned_count: 10`
- –í—Å–µ 10 –≤–∞–∫–∞–Ω—Å–∏–π —Å–≤–µ–∂–∏–µ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç—ã)

---

### **–¢–µ—Å—Ç 3: –ë—ã—Å—Ç—Ä—ã–π endpoint**

```bash
curl -X POST "http://localhost:8000/api/search-quick?keywords=CRM&limit=3"
```

**–û–∂–∏–¥–∞–µ–º:**
- `total_found` (–º–Ω–æ–≥–æ)
- `returned_count: 3`
- 3 —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö –≤–∞–∫–∞–Ω—Å–∏–∏

---

## üìÅ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

1. ‚úÖ `hh_parser.py` - –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞
2. ‚úÖ `api.py` - API endpoints
3. ‚úÖ `API_–û–ë–ù–û–í–õ–ï–ù–ò–ï_LIMIT.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–Ω–æ–≤—ã–π)
4. ‚úÖ `N8N_INTEGRATION_LIMIT.md` - N8N –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–Ω–æ–≤—ã–π)

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

1. ‚úÖ **–ü–æ–ª–Ω–æ—Ç–∞ –ø–æ–∏—Å–∫–∞:** –ù–∞—Ö–æ–¥–∏–º –í–°–ï –≤–∞–∫–∞–Ω—Å–∏–∏
2. ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å:** –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–∞–º—ã–µ —Å–≤–µ–∂–∏–µ
3. ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å:** –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å `limit` –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
4. ‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞:** N8N –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ
5. ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** N8N –Ω–µ –Ω—É–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å, –≤—Å—ë –≥–æ—Ç–æ–≤–æ

### **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

**N8N ‚Üí HTTP Request:**
```json
{
  "keywords": "–≤–∞—à –∑–∞–ø—Ä–æ—Å",
  "limit": 20  // —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ
}
```

**–ü–æ–ª—É—á–∏—Ç–µ:**
```json
{
  "total_found": 1247,      // –≤—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ
  "returned_count": 20,     // –≤–µ—Ä–Ω—É–ª–∏
  "vacancies": [...]        // 20 —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö
}
```

---

## üöÄ –ó–ê–ü–£–°–ö

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ API:

```bash
python api.py
```

–ò–ª–∏ –µ—Å–ª–∏ —É–∂–µ –∑–∞–ø—É—â–µ–Ω - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞.

---

## üìû –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä `limit` –æ—Ç 1 –¥–æ 1000
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ `total_found` –∏ `returned_count` –≤ –æ—Ç–≤–µ—Ç–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º)

---

## üéâ –ì–û–¢–û–í–û!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å! üöÄ

